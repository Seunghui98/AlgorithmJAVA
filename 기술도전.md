## 랭킹 시스템
- 크론탭을 이용하여 0시 0분에 어제 운동 기록의 시간(분)으로 유저들의 랭킹을 구할 수 있도록 구현했다.
- 크론탭으로 0시 0분에 서버 랭킹 리셋관련 api에 get 요청을 통해 어제 운동왕을 계산할 수 있다.
- 서버는 해당 요청을 받으면 Redis 내에 Sorted Set이라는 자료구조를 통해 정렬된 상태로 redis db 내에 저장된다.
- 랭킹 리셋 관련 API
```
@ApiOperation(value = "랭킹 리셋관련 api(크론탭사용)",notes = "어제의 운동왕을 조회하는 부분입니다.")
    @GetMapping("/api/rank/reset")
    public ResponseEntity<?> reset(){
        Message message = new Message();
        HttpHeaders httpHeaders = new HttpHeaders();
        httpHeaders.setContentType(new MediaType("application","json", Charset.forName("UTF-8")));

        rankService.addRank();
        message.setStatus(StatusEnum.OK);
        message.setMessage("성공");
        return new ResponseEntity<>(message,httpHeaders, HttpStatus.OK);

    }
```
- 랭킹 API 호출하는 쉘스크립트
```
curl -X GET https://i7c202.p.ssafy.io:8282/api/rank/reset
```

- crontab 명령어
```
# 매일 0시 0분에 ranking.sh 실행
0 0 * * * /home/ubuntu/ranking.sh
```
